{
  "version": 3,
  "file": "angular-2-dropdown-multiselect.umd.min.js",
  "sources": [
    "ng://angular-2-dropdown-multiselect/node_modules/tslib/tslib.es6.js",
    "ng://angular-2-dropdown-multiselect/out/dropdown/search-filter.pipe.ts",
    "ng://angular-2-dropdown-multiselect/out/dropdown/autofocus.directive.ts",
    "ng://angular-2-dropdown-multiselect/out/dropdown/dropdown.component.ts",
    "ng://angular-2-dropdown-multiselect/out/dropdown/dropdown.module.ts"
  ],
  "sourcesContent": [
    "/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n",
    "import { Pipe, PipeTransform } from '@angular/core';\r\n\r\nimport { IMultiSelectOption } from './types';\r\n\r\ninterface StringHashMap<T> {\r\n  [k: string]: T;\r\n}\r\n\r\n@Pipe({\r\n  name: 'searchFilter'\r\n})\r\nexport class MultiSelectSearchFilter implements PipeTransform {\r\n\r\n  private _lastOptions: IMultiSelectOption[];\r\n  private _searchCache: StringHashMap<IMultiSelectOption[]> = {};\r\n  private _searchCacheInclusive: StringHashMap<boolean | number> = {};\r\n  private _prevSkippedItems: StringHashMap<number> = {};\r\n\r\n  transform(\r\n    options: IMultiSelectOption[],\r\n    str = '',\r\n    limit = 0,\r\n    renderLimit = 0\r\n  ): IMultiSelectOption[] {\r\n    str = str.toLowerCase();\r\n\r\n    // Drop cache because options were updated\r\n    if (options !== this._lastOptions) {\r\n      this._lastOptions = options;\r\n      this._searchCache = {};\r\n      this._searchCacheInclusive = {};\r\n      this._prevSkippedItems = {};\r\n    }\r\n\r\n    const filteredOpts = this._searchCache.hasOwnProperty(str)\r\n      ? this._searchCache[str]\r\n      : this._doSearch(options, str, limit);\r\n\r\n    const isUnderLimit = options.length <= limit;\r\n\r\n    return isUnderLimit\r\n      ? filteredOpts\r\n      : this._limitRenderedItems(filteredOpts, renderLimit);\r\n  }\r\n\r\n  private _getSubsetOptions(\r\n    options: IMultiSelectOption[],\r\n    prevOptions: IMultiSelectOption[],\r\n    prevSearchStr: string\r\n  ) {\r\n    const prevInclusiveOrIdx = this._searchCacheInclusive[prevSearchStr];\r\n\r\n    if (prevInclusiveOrIdx === true) {\r\n      // If have previous results and it was inclusive, do only subsearch\r\n      return prevOptions;\r\n    } else if (typeof prevInclusiveOrIdx === 'number') {\r\n      // Or reuse prev results with unchecked ones\r\n      return [...prevOptions, ...options.slice(prevInclusiveOrIdx)];\r\n    }\r\n\r\n    return options;\r\n  }\r\n\r\n  private _doSearch(options: IMultiSelectOption[], str: string, limit: number) {\r\n    const prevStr = str.slice(0, -1);\r\n    const prevResults = this._searchCache[prevStr];\r\n    const prevResultShift = this._prevSkippedItems[prevStr] || 0;\r\n\r\n    if (prevResults) {\r\n      options = this._getSubsetOptions(options, prevResults, prevStr);\r\n    }\r\n\r\n    const optsLength = options.length;\r\n    const maxFound = limit > 0 ? Math.min(limit, optsLength) : optsLength;\r\n    const regexp = new RegExp(this._escapeRegExp(str), 'i');\r\n    const filteredOpts: IMultiSelectOption[] = [];\r\n\r\n    let i = 0, founded = 0, removedFromPrevResult = 0;\r\n\r\n    const doesOptionMatch = (option: IMultiSelectOption) => regexp.test(option.name);\r\n    const getChildren = (option: IMultiSelectOption) =>\r\n      options.filter(child => child.parentId === option.id);\r\n    const getParent = (option: IMultiSelectOption) =>\r\n      options.find(parent => option.parentId === parent.id);\r\n    const foundFn = (item: any) => { filteredOpts.push(item); founded++; };\r\n    const notFoundFn = prevResults ? () => removedFromPrevResult++ : () => { };\r\n\r\n    for (; i < optsLength && founded < maxFound; ++i) {\r\n      const option = options[i];\r\n      const directMatch = doesOptionMatch(option);\r\n\r\n      if (directMatch) {\r\n        foundFn(option);\r\n        continue;\r\n      }\r\n\r\n      if (typeof option.parentId === 'undefined') {\r\n        const childrenMatch = getChildren(option).some(doesOptionMatch);\r\n\r\n        if (childrenMatch) {\r\n          foundFn(option);\r\n          continue;\r\n        }\r\n      }\r\n\r\n      if (typeof option.parentId !== 'undefined') {\r\n        const parentMatch = doesOptionMatch(getParent(option));\r\n\r\n        if (parentMatch) {\r\n          foundFn(option);\r\n          continue;\r\n        }\r\n      }\r\n\r\n      notFoundFn();\r\n    }\r\n\r\n    const totalIterations = i + prevResultShift;\r\n\r\n    this._searchCache[str] = filteredOpts;\r\n    this._searchCacheInclusive[str] = i === optsLength || totalIterations;\r\n    this._prevSkippedItems[str] = removedFromPrevResult + prevResultShift;\r\n\r\n    return filteredOpts;\r\n  }\r\n\r\n  private _limitRenderedItems<T>(items: T[], limit: number): T[] {\r\n    return items.length > limit && limit > 0 ? items.slice(0, limit) : items;\r\n  }\r\n\r\n  private _escapeRegExp(str: string): string {\r\n    return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\r\n  }\r\n\r\n}\r\n",
    "import { Directive, ElementRef, Host, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[ssAutofocus]'\r\n})\r\nexport class AutofocusDirective implements OnInit, OnChanges {\r\n\r\n  /**\r\n   * Will set focus if set to falsy value or not set at all\r\n   */\r\n  @Input() ssAutofocus: boolean;\r\n\r\n  get element(): { focus?: Function } {\r\n    return this.elemRef.nativeElement;\r\n  }\r\n\r\n  constructor(\r\n    @Host() private elemRef: ElementRef,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.focus();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    const ssAutofocusChange = changes.ssAutofocus;\r\n\r\n    if (ssAutofocusChange && !ssAutofocusChange.isFirstChange()) {\r\n      this.focus();\r\n    }\r\n  }\r\n\r\n  focus() {\r\n    if (this.ssAutofocus) {\r\n      return;\r\n    }\r\n\r\n    this.element.focus && this.element.focus();\r\n  }\r\n\r\n}\r\n",
    "\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  DoCheck,\r\n  ElementRef,\r\n  EventEmitter,\r\n  forwardRef,\r\n  HostListener,\r\n  Input,\r\n  IterableDiffers,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  Output,\r\n  SimpleChanges,\r\n} from '@angular/core';\r\nimport {\r\n  AbstractControl,\r\n  ControlValueAccessor,\r\n  FormBuilder,\r\n  FormControl,\r\n  NG_VALUE_ACCESSOR,\r\n  Validator,\r\n} from '@angular/forms';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { MultiSelectSearchFilter } from './search-filter.pipe';\r\nimport { IMultiSelectOption, IMultiSelectSettings, IMultiSelectTexts, } from './types';\r\n\r\n/*\r\n * Angular 2 Dropdown Multiselect for Bootstrap\r\n *\r\n * Simon Lindh\r\n * https://github.com/softsimon/angular-2-dropdown-multiselect\r\n */\r\n\r\nconst MULTISELECT_VALUE_ACCESSOR: any = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n  useExisting: forwardRef(() => MultiselectDropdownComponent),\r\n  multi: true,\r\n};\r\n\r\n@Component({\r\n  selector: 'ss-multiselect-dropdown',\r\n  template: `<div class=\"dropdown\">\r\n  <button type=\"button\" class=\"dropdown-toggle\" [ngClass]=\"settings.buttonClasses\" (click)=\"toggleDropdown($event)\" [disabled]=\"disabled\"\r\n    [ssAutofocus]=\"!focusBack\">\r\n    {{ title }}\r\n    <span class=\"caret\"></span>\r\n  </button>\r\n  <div #scroller *ngIf=\"isVisible\" class=\"dropdown-menu\" [ngClass]=\"{'chunkydropdown-menu': settings.checkedStyle == 'visual' }\"\r\n    (scroll)=\"settings.isLazyLoad ? checkScrollPosition($event) : null\" (wheel)=\"settings.stopScrollPropagation ? checkScrollPropagation($event, scroller) : null\"\r\n    [class.pull-right]=\"settings.pullRight\" [class.dropdown-menu-right]=\"settings.pullRight\" [style.max-height]=\"settings.maxHeight\"\r\n    style=\"display: block; height: auto; overflow-y: auto;\" (keydown.tab)=\"focusItem(1, $event)\" (keydown.shift.tab)=\"focusItem(-1, $event)\">\r\n    <div class=\"input-group search-container\" *ngIf=\"settings.enableSearch\">\r\n      <div class=\"input-group-prepend\">\r\n        <span class=\"input-group-text\" id=\"basic-addon1\">\r\n          <i class=\"fa fa-search\" aria-hidden=\"true\"></i>\r\n        </span>\r\n      </div>\r\n      <input type=\"text\" class=\"form-control\" ssAutofocus [formControl]=\"filterControl\" [placeholder]=\"texts.searchPlaceholder\"\r\n        class=\"form-control\">\r\n      <div class=\"input-group-append\" *ngIf=\"filterControl.value.length>0\">\r\n        <button class=\"btn btn-default btn-secondary\" type=\"button\" (click)=\"clearSearch($event)\">\r\n          <i class=\"fa fa-times\"></i>\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <a role=\"menuitem\" href=\"javascript:;\" tabindex=\"-1\" class=\"dropdown-item check-control check-control-check\" *ngIf=\"settings.showCheckAll && !disabledSelection\"\r\n      (click)=\"checkAll()\">\r\n      <span style=\"width: 16px;\"><span [ngClass]=\"{'glyphicon glyphicon-ok': settings.checkedStyle !== 'fontawesome','fa fa-check': settings.checkedStyle === 'fontawesome'}\"></span></span>\r\n      {{ texts.checkAll }}\r\n    </a>\r\n    <a role=\"menuitem\" href=\"javascript:;\" tabindex=\"-1\" class=\"dropdown-item check-control check-control-uncheck\" *ngIf=\"settings.showUncheckAll && !disabledSelection\"\r\n      (click)=\"uncheckAll()\">\r\n      <span style=\"width: 16px;\"><span [ngClass]=\"{'glyphicon glyphicon-remove': settings.checkedStyle !== 'fontawesome','fa fa-times': settings.checkedStyle === 'fontawesome'}\"></span></span>\r\n      {{ texts.uncheckAll }}\r\n    </a>\r\n    <a *ngIf=\"settings.showCheckAll || settings.showUncheckAll\" href=\"javascript:;\" class=\"dropdown-divider divider\"></a>\r\n    <a *ngIf=\"!renderItems\" href=\"javascript:;\" class=\"dropdown-item empty\">{{ texts.searchNoRenderText }}</a>\r\n    <a *ngIf=\"renderItems && !renderFilteredOptions.length\" href=\"javascript:;\" class=\"dropdown-item empty\">{{ texts.searchEmptyResult }}</a>\r\n    <a class=\"dropdown-item\" href=\"javascript:;\" *ngFor=\"let option of renderFilteredOptions; trackBy: trackById\" [class.active]=\"isSelected(option)\"\r\n      [ngStyle]=\"getItemStyle(option)\" [ngClass]=\"option.classes\" [class.dropdown-header]=\"option.isLabel\" [ssAutofocus]=\"option !== focusedItem\"\r\n      tabindex=\"-1\" (click)=\"setSelected($event, option)\" (keydown.space)=\"setSelected($event, option)\" (keydown.enter)=\"setSelected($event, option)\">\r\n      <span *ngIf=\"!option.isLabel; else label\" role=\"menuitem\" tabindex=\"-1\" [style.padding-left]=\"this.parents.length>0&&this.parents.indexOf(option.id)<0&&'30px'\"\r\n        [ngStyle]=\"getItemStyleSelectionDisabled()\">\r\n        <ng-container [ngSwitch]=\"settings.checkedStyle\">\r\n          <input *ngSwitchCase=\"'checkboxes'\" type=\"checkbox\" [checked]=\"isSelected(option)\" (click)=\"preventCheckboxCheck($event, option)\"\r\n            [disabled]=\"isCheckboxDisabled(option)\" [ngStyle]=\"getItemStyleSelectionDisabled()\" />\r\n          <span *ngSwitchCase=\"'glyphicon'\" style=\"width: 16px;\" class=\"glyphicon\" [class.glyphicon-ok]=\"isSelected(option)\" [class.glyphicon-lock]=\"isCheckboxDisabled(option)\"></span>\r\n          <span *ngSwitchCase=\"'fontawesome'\" style=\"width: 16px;display: inline-block;\">\r\n            <span *ngIf=\"isSelected(option)\"><i class=\"fa fa-check\" aria-hidden=\"true\"></i></span>\r\n            <span *ngIf=\"isCheckboxDisabled(option)\"><i class=\"fa fa-lock\" aria-hidden=\"true\"></i></span>\r\n          </span>\r\n          <span *ngSwitchCase=\"'visual'\" style=\"display:block;float:left; border-radius: 0.2em; border: 0.1em solid rgba(44, 44, 44, 0.63);background:rgba(0, 0, 0, 0.1);width: 5.5em;\">\r\n            <div class=\"slider\" [ngClass]=\"{'slideron': isSelected(option)}\">\r\n              <img *ngIf=\"option.image != null\" [src]=\"option.image\" style=\"height: 100%; width: 100%; object-fit: contain\" />\r\n              <div *ngIf=\"option.image == null\" style=\"height: 100%; width: 100%;text-align: center; display: table; background-color:rgba(0, 0, 0, 0.74)\">\r\n                <div class=\"content_wrapper\">\r\n                  <span style=\"font-size:3em;color:white\" class=\"glyphicon glyphicon-eye-close\"></span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </span>\r\n        </ng-container>\r\n        <span [ngClass]=\"{'chunkyrow': settings.checkedStyle == 'visual' }\" [class.disabled]=\"isCheckboxDisabled(option)\" [ngClass]=\"settings.itemClasses\"\r\n          [style.font-weight]=\"this.parents.indexOf(option.id)>=0?'bold':'normal'\">\r\n          {{ option.name }}\r\n        </span>\r\n      </span>\r\n      <ng-template #label>\r\n        <span [class.disabled]=\"isCheckboxDisabled(option)\">{{ option.name }}</span>\r\n      </ng-template>\r\n    </a>\r\n  </div>\r\n</div>\r\n`,\r\n  styles: [`a{outline:0!important}.dropdown-inline{display:inline-block}.dropdown-toggle .caret{margin-left:4px;white-space:nowrap;display:inline-block}.chunkydropdown-menu{min-width:20em}.chunkyrow{line-height:2;margin-left:1em;font-size:2em}.slider{width:3.8em;height:3.8em;display:block;-webkit-transition:all 125ms linear;transition:all 125ms linear;margin-left:.125em;margin-top:auto}.slideron{margin-left:1.35em}.content_wrapper{display:table-cell;vertical-align:middle}.search-container{padding:0 5px 5px}`],\r\n  providers: [MULTISELECT_VALUE_ACCESSOR, MultiSelectSearchFilter],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class MultiselectDropdownComponent\r\n  implements OnInit,\r\n  OnChanges,\r\n  DoCheck,\r\n  OnDestroy,\r\n  ControlValueAccessor,\r\n  Validator {\r\n  filterControl: FormControl = this.fb.control('');\r\n\r\n  @Input() options: Array<IMultiSelectOption>;\r\n  @Input() settings: IMultiSelectSettings;\r\n  @Input() texts: IMultiSelectTexts;\r\n  @Input() disabled: boolean = false;\r\n  @Input() disabledSelection: boolean = false;\r\n\r\n  @Output() selectionLimitReached = new EventEmitter();\r\n  @Output() dropdownClosed = new EventEmitter();\r\n  @Output() dropdownOpened = new EventEmitter();\r\n  @Output() onAdded = new EventEmitter();\r\n  @Output() onRemoved = new EventEmitter();\r\n  @Output() onLazyLoad = new EventEmitter();\r\n  @Output() onFilter: Observable<string> = this.filterControl.valueChanges;\r\n\r\n  get focusBack(): boolean {\r\n    return this.settings.focusBack && this._focusBack;\r\n  }\r\n\r\n  @HostListener('document: click', ['$event.target'])\r\n  @HostListener('document: touchstart', ['$event.target'])\r\n  onClick(target: HTMLElement) {\r\n    if (!this.isVisible || !this.settings.closeOnClickOutside) { return; }\r\n    let parentFound = false;\r\n    while (target != null && !parentFound) {\r\n      if (target === this.element.nativeElement) {\r\n        parentFound = true;\r\n      }\r\n      target = target.parentElement;\r\n    }\r\n    if (!parentFound) {\r\n      this.isVisible = false;\r\n      this._focusBack = true;\r\n      this.dropdownClosed.emit();\r\n    }\r\n  }\r\n\r\n  destroyed$ = new Subject<any>();\r\n\r\n  filteredOptions: IMultiSelectOption[] = [];\r\n  lazyLoadOptions: IMultiSelectOption[] = [];\r\n  renderFilteredOptions: IMultiSelectOption[] = [];\r\n  model: any[] = [];\r\n  prevModel: any[] = [];\r\n  parents: any[];\r\n  title: string;\r\n  differ: any;\r\n  numSelected: number = 0;\r\n  set isVisible(val: boolean) {\r\n    this._isVisible = val;\r\n    this._workerDocClicked = val ? false : this._workerDocClicked;\r\n  }\r\n  get isVisible() {\r\n    return this._isVisible;\r\n  }\r\n  renderItems = true;\r\n  checkAllSearchRegister = new Set();\r\n  checkAllStatus = false;\r\n  loadedValueIds = [];\r\n  _focusBack = false;\r\n  focusedItem: IMultiSelectOption | undefined;\r\n\r\n  defaultSettings: IMultiSelectSettings = {\r\n    closeOnClickOutside: true,\r\n    pullRight: false,\r\n    enableSearch: false,\r\n    searchRenderLimit: 0,\r\n    searchRenderAfter: 1,\r\n    searchMaxLimit: 0,\r\n    searchMaxRenderedItems: 0,\r\n    checkedStyle: 'checkboxes',\r\n    buttonClasses: 'btn btn-primary dropdown-toggle',\r\n    containerClasses: 'dropdown-inline',\r\n    selectionLimit: 0,\r\n    minSelectionLimit: 0,\r\n    closeOnSelect: false,\r\n    autoUnselect: false,\r\n    showCheckAll: false,\r\n    showUncheckAll: false,\r\n    fixedTitle: false,\r\n    dynamicTitleMaxItems: 3,\r\n    maxHeight: '300px',\r\n    isLazyLoad: false,\r\n    stopScrollPropagation: false,\r\n    loadViewDistance: 1,\r\n    selectAddedValues: false,\r\n    ignoreLabels: false,\r\n    maintainSelectionOrderInTitle: false,\r\n    focusBack: true\r\n  };\r\n  defaultTexts: IMultiSelectTexts = {\r\n    checkAll: 'Check all',\r\n    uncheckAll: 'Uncheck all',\r\n    checked: 'checked',\r\n    checkedPlural: 'checked',\r\n    searchPlaceholder: 'Search...',\r\n    searchEmptyResult: 'Nothing found...',\r\n    searchNoRenderText: 'Type in search box to see results...',\r\n    defaultTitle: 'Select',\r\n    allSelected: 'All selected',\r\n  };\r\n\r\n  get searchLimit() {\r\n    return this.settings.searchRenderLimit;\r\n  }\r\n\r\n  get searchRenderAfter() {\r\n    return this.settings.searchRenderAfter;\r\n  }\r\n\r\n  get searchLimitApplied() {\r\n    return this.searchLimit > 0 && this.options.length > this.searchLimit;\r\n  }\r\n\r\n  private _isVisible = false;\r\n  private _workerDocClicked = false;\r\n\r\n  constructor(\r\n    private element: ElementRef,\r\n    private fb: FormBuilder,\r\n    private searchFilter: MultiSelectSearchFilter,\r\n    differs: IterableDiffers,\r\n    private cdRef: ChangeDetectorRef\r\n  ) {\r\n    this.differ = differs.find([]).create(null);\r\n    this.settings = this.defaultSettings;\r\n    this.texts = this.defaultTexts;\r\n  }\r\n\r\n  getItemStyle(option: IMultiSelectOption): any {\r\n    const style = {};\r\n    if (!option.isLabel) {\r\n      style['cursor'] = 'pointer';\r\n    }\r\n    if (option.disabled) {\r\n      style['cursor'] = 'default';\r\n    }\r\n  }\r\n\r\n  getItemStyleSelectionDisabled(): any {\r\n    if (this.disabledSelection) {\r\n      return { cursor: 'default' };\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.title = this.texts.defaultTitle || '';\r\n\r\n    this.filterControl.valueChanges.pipe(takeUntil(this.destroyed$)).subscribe(() => {\r\n      this.updateRenderItems();\r\n      if (this.settings.isLazyLoad) {\r\n        this.load();\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes['options']) {\r\n      this.options = this.options || [];\r\n      this.parents = this.options\r\n        .filter(option => typeof option.parentId === 'number')\r\n        .map(option => option.parentId);\r\n      this.updateRenderItems();\r\n\r\n      if (\r\n        this.settings.isLazyLoad &&\r\n        this.settings.selectAddedValues &&\r\n        this.loadedValueIds.length === 0\r\n      ) {\r\n        this.loadedValueIds = this.loadedValueIds.concat(\r\n          changes.options.currentValue.map(value => value.id)\r\n        );\r\n      }\r\n      if (\r\n        this.settings.isLazyLoad &&\r\n        this.settings.selectAddedValues &&\r\n        changes.options.previousValue\r\n      ) {\r\n        const addedValues = changes.options.currentValue.filter(\r\n          value => this.loadedValueIds.indexOf(value.id) === -1\r\n        );\r\n        this.loadedValueIds.concat(addedValues.map(value => value.id));\r\n        if (this.checkAllStatus) {\r\n          this.addChecks(addedValues);\r\n        } else if (this.checkAllSearchRegister.size > 0) {\r\n          this.checkAllSearchRegister.forEach(searchValue =>\r\n            this.addChecks(this.applyFilters(addedValues, searchValue))\r\n          );\r\n        }\r\n      }\r\n\r\n      if (this.texts) {\r\n        this.updateTitle();\r\n      }\r\n\r\n      this.fireModelChange();\r\n    }\r\n\r\n    if (changes['settings']) {\r\n      this.settings = { ...this.defaultSettings, ...this.settings };\r\n    }\r\n\r\n    if (changes['texts']) {\r\n      this.texts = { ...this.defaultTexts, ...this.texts };\r\n      if (!changes['texts'].isFirstChange()) { this.updateTitle(); }\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.destroyed$.next();\r\n  }\r\n\r\n  updateRenderItems() {\r\n    this.renderItems =\r\n      !this.searchLimitApplied ||\r\n      this.filterControl.value.length >= this.searchRenderAfter;\r\n    this.filteredOptions = this.applyFilters(\r\n      this.options,\r\n      this.settings.isLazyLoad ? '' : this.filterControl.value\r\n    );\r\n    this.renderFilteredOptions = this.renderItems ? this.filteredOptions : [];\r\n    this.focusedItem = undefined;\r\n  }\r\n\r\n  applyFilters(options, value) {\r\n    return this.searchFilter.transform(\r\n      options,\r\n      value,\r\n      this.settings.searchMaxLimit,\r\n      this.settings.searchMaxRenderedItems\r\n    );\r\n  }\r\n\r\n  fireModelChange() {\r\n    if (this.model != this.prevModel) {\r\n      this.prevModel = this.model;\r\n      this.onModelChange(this.model);\r\n      this.onModelTouched();\r\n      this.cdRef.markForCheck();\r\n    }\r\n  }\r\n\r\n  onModelChange: Function = (_: any) => { };\r\n  onModelTouched: Function = () => { };\r\n\r\n  writeValue(value: any): void {\r\n    if (value !== undefined && value !== null) {\r\n      this.model = Array.isArray(value) ? value : [value];\r\n      this.ngDoCheck();\r\n    } else {\r\n      this.model = [];\r\n    }\r\n  }\r\n\r\n  registerOnChange(fn: Function): void {\r\n    this.onModelChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: Function): void {\r\n    this.onModelTouched = fn;\r\n  }\r\n\r\n  setDisabledState(isDisabled: boolean) {\r\n    this.disabled = isDisabled;\r\n  }\r\n\r\n  ngDoCheck() {\r\n    const changes = this.differ.diff(this.model);\r\n    if (changes) {\r\n      this.updateNumSelected();\r\n      this.updateTitle();\r\n    }\r\n  }\r\n\r\n  validate(_c: AbstractControl): { [key: string]: any } {\r\n    if (this.model && this.model.length) {\r\n      return {\r\n        required: {\r\n          valid: false\r\n        }\r\n      };\r\n    }\r\n\r\n    if (this.options.filter(o => this.model.indexOf(o.id) && !o.disabled).length === 0) {\r\n      return {\r\n        selection: {\r\n          valid: false\r\n        }\r\n      };\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  registerOnValidatorChange(_fn: () => void): void {\r\n    throw new Error('Method not implemented.');\r\n  }\r\n\r\n  clearSearch(event: Event) {\r\n    this.maybeStopPropagation(event);\r\n    this.filterControl.setValue('');\r\n  }\r\n\r\n  toggleDropdown(e?: Event) {\r\n    this.maybeStopPropagation(e);\r\n\r\n    if (this.isVisible) {\r\n      this._focusBack = true;\r\n    }\r\n\r\n    this.isVisible = !this.isVisible;\r\n    this.isVisible ? this.dropdownOpened.emit() : this.dropdownClosed.emit();\r\n    this.focusedItem = undefined;\r\n  }\r\n\r\n  closeDropdown(e?: Event) {\r\n    this.isVisible = true;\r\n    this.toggleDropdown(e);\r\n  }\r\n\r\n  isSelected(option: IMultiSelectOption): boolean {\r\n    return this.model && this.model.indexOf(option.id) > -1;\r\n  }\r\n\r\n  setSelected(_event: Event, option: IMultiSelectOption) {\r\n    if (option.isLabel) {\r\n      return;\r\n    }\r\n\r\n    if (option.disabled) {\r\n      return;\r\n    }\r\n\r\n    if (this.disabledSelection) {\r\n      return;\r\n    }\r\n\r\n    setTimeout(()=>{\r\n      this.maybeStopPropagation(_event);\r\n      this.maybePreventDefault(_event);\r\n      const index = this.model.indexOf(option.id);\r\n      const isAtSelectionLimit =\r\n        this.settings.selectionLimit > 0 &&\r\n        this.model.length >= this.settings.selectionLimit;\r\n      const removeItem = (idx, id): void => {\r\n        this.model.splice(idx, 1);\r\n        this.onRemoved.emit(id);\r\n        if (\r\n          this.settings.isLazyLoad &&\r\n          this.lazyLoadOptions.some(val => val.id === id)\r\n        ) {\r\n          this.lazyLoadOptions.splice(\r\n            this.lazyLoadOptions.indexOf(\r\n              this.lazyLoadOptions.find(val => val.id === id)\r\n            ),\r\n            1\r\n          );\r\n        }\r\n      };\r\n\r\n      if (index > -1) {\r\n        if (\r\n          this.settings.minSelectionLimit === undefined ||\r\n          this.numSelected > this.settings.minSelectionLimit\r\n        ) {\r\n          removeItem(index, option.id);\r\n        }\r\n        const parentIndex =\r\n          option.parentId && this.model.indexOf(option.parentId);\r\n        if (parentIndex > -1) {\r\n          removeItem(parentIndex, option.parentId);\r\n        } else if (this.parents.indexOf(option.id) > -1) {\r\n          this.options\r\n            .filter(\r\n              child =>\r\n                this.model.indexOf(child.id) > -1 &&\r\n                child.parentId === option.id\r\n            )\r\n            .forEach(child =>\r\n              removeItem(this.model.indexOf(child.id), child.id)\r\n            );\r\n        }\r\n      } else if (isAtSelectionLimit && !this.settings.autoUnselect) {\r\n        this.selectionLimitReached.emit(this.model.length);\r\n        return;\r\n      } else {\r\n        const addItem = (id): void => {\r\n          this.model.push(id);\r\n          this.onAdded.emit(id);\r\n          if (\r\n            this.settings.isLazyLoad &&\r\n            !this.lazyLoadOptions.some(val => val.id === id)\r\n          ) {\r\n            this.lazyLoadOptions.push(option);\r\n          }\r\n        };\r\n\r\n        addItem(option.id);\r\n        if (!isAtSelectionLimit) {\r\n          if (option.parentId && !this.settings.ignoreLabels) {\r\n            const children = this.options.filter(\r\n              child =>\r\n                child.id !== option.id && child.parentId === option.parentId\r\n            );\r\n            if (children.every(child => this.model.indexOf(child.id) > -1)) {\r\n              addItem(option.parentId);\r\n            }\r\n          } else if (this.parents.indexOf(option.id) > -1) {\r\n            const children = this.options.filter(\r\n              child =>\r\n                this.model.indexOf(child.id) < 0 && child.parentId === option.id\r\n            );\r\n            children.forEach(child => addItem(child.id));\r\n          }\r\n        } else {\r\n          removeItem(0, this.model[0]);\r\n        }\r\n      }\r\n      if (this.settings.closeOnSelect) {\r\n        this.toggleDropdown();\r\n      }\r\n      this.model = this.model.slice();\r\n      this.fireModelChange();\r\n\r\n    }, 0)\r\n  }\r\n\r\n  updateNumSelected() {\r\n    this.numSelected =\r\n      this.model.filter(id => this.parents.indexOf(id) < 0).length || 0;\r\n  }\r\n\r\n  updateTitle() {\r\n    let numSelectedOptions = this.options.length;\r\n    if (this.settings.ignoreLabels) {\r\n      numSelectedOptions = this.options.filter(\r\n        (option: IMultiSelectOption) => !option.isLabel\r\n      ).length;\r\n    }\r\n    if (this.numSelected === 0 || this.settings.fixedTitle) {\r\n      this.title = this.texts ? this.texts.defaultTitle : '';\r\n    } else if (\r\n      this.settings.displayAllSelectedText &&\r\n      this.model.length === numSelectedOptions\r\n    ) {\r\n      this.title = this.texts ? this.texts.allSelected : '';\r\n    } else if (\r\n      this.settings.dynamicTitleMaxItems &&\r\n      this.settings.dynamicTitleMaxItems >= this.numSelected\r\n    ) {\r\n      const useOptions =\r\n        this.settings.isLazyLoad && this.lazyLoadOptions.length\r\n          ? this.lazyLoadOptions\r\n          : this.options;\r\n\r\n      let titleSelections: Array<IMultiSelectOption>;\r\n\r\n      if (this.settings.maintainSelectionOrderInTitle) {\r\n        const optionIds = useOptions.map((selectOption: IMultiSelectOption, idx: number) => selectOption.id);\r\n        titleSelections = this.model\r\n          .map((selectedId) => optionIds.indexOf(selectedId))\r\n          .filter((optionIndex) => optionIndex > -1)\r\n          .map((optionIndex) => useOptions[optionIndex]);\r\n      } else {\r\n        titleSelections = useOptions.filter((option: IMultiSelectOption) => this.model.indexOf(option.id) > -1);\r\n      }\r\n\r\n      this.title = titleSelections.map((option: IMultiSelectOption) => option.name).join(', ');\r\n    } else {\r\n      this.title =\r\n        this.numSelected +\r\n        ' ' +\r\n        (this.numSelected === 1\r\n          ? this.texts.checked\r\n          : this.texts.checkedPlural);\r\n    }\r\n    this.cdRef.markForCheck();\r\n  }\r\n\r\n  searchFilterApplied() {\r\n    return (\r\n      this.settings.enableSearch &&\r\n      this.filterControl.value &&\r\n      this.filterControl.value.length > 0\r\n    );\r\n  }\r\n\r\n  addChecks(options) {\r\n    const checkedOptions = options\r\n      .filter((option: IMultiSelectOption) => {\r\n        if (\r\n          !option.disabled &&\r\n          (\r\n            this.model.indexOf(option.id) === -1 &&\r\n            !(this.settings.ignoreLabels && option.isLabel)\r\n          )\r\n        ) {\r\n          this.onAdded.emit(option.id);\r\n          return true;\r\n        }\r\n        return false;\r\n      })\r\n      .map((option: IMultiSelectOption) => option.id);\r\n\r\n    this.model = this.model.concat(checkedOptions);\r\n  }\r\n\r\n  checkAll() {\r\n    if (!this.disabledSelection) {\r\n      this.addChecks(\r\n        !this.searchFilterApplied() ? this.options : this.filteredOptions\r\n      );\r\n      if (this.settings.isLazyLoad && this.settings.selectAddedValues) {\r\n        if (this.searchFilterApplied() && !this.checkAllStatus) {\r\n          this.checkAllSearchRegister.add(this.filterControl.value);\r\n        } else {\r\n          this.checkAllSearchRegister.clear();\r\n          this.checkAllStatus = true;\r\n        }\r\n        this.load();\r\n      }\r\n      this.fireModelChange();\r\n    }\r\n  }\r\n\r\n  uncheckAll() {\r\n    if (!this.disabledSelection) {\r\n      const checkedOptions = this.model;\r\n      let unCheckedOptions = !this.searchFilterApplied()\r\n        ? this.model\r\n        : this.filteredOptions.map((option: IMultiSelectOption) => option.id);\r\n      // set unchecked options only to the ones that were checked\r\n      unCheckedOptions = checkedOptions.filter(item => this.model.indexOf(item) > -1);\r\n      this.model = this.model.filter((id: number) => {\r\n        if (\r\n          (unCheckedOptions.indexOf(id) < 0 &&\r\n            this.settings.minSelectionLimit === undefined) ||\r\n          unCheckedOptions.indexOf(id) < this.settings.minSelectionLimit\r\n        ) {\r\n          return true;\r\n        } else {\r\n          this.onRemoved.emit(id);\r\n          return false;\r\n        }\r\n      });\r\n      if (this.settings.isLazyLoad && this.settings.selectAddedValues) {\r\n        if (this.searchFilterApplied()) {\r\n          if (this.checkAllSearchRegister.has(this.filterControl.value)) {\r\n            this.checkAllSearchRegister.delete(this.filterControl.value);\r\n            this.checkAllSearchRegister.forEach(function (searchTerm) {\r\n              const filterOptions = this.applyFilters(this.options.filter(option => unCheckedOptions.indexOf(option.id) > -1), searchTerm);\r\n              this.addChecks(filterOptions);\r\n            });\r\n          }\r\n        } else {\r\n          this.checkAllSearchRegister.clear();\r\n          this.checkAllStatus = false;\r\n        }\r\n        this.load();\r\n      }\r\n      this.fireModelChange();\r\n    }\r\n  }\r\n\r\n  preventCheckboxCheck(event: Event, option: IMultiSelectOption) {\r\n    if (\r\n      option.disabled ||\r\n      (\r\n        this.settings.selectionLimit &&\r\n        !this.settings.autoUnselect &&\r\n        this.model.length >= this.settings.selectionLimit &&\r\n        this.model.indexOf(option.id) === -1 &&\r\n        this.maybePreventDefault(event)\r\n      )\r\n    ) {\r\n      this.maybePreventDefault(event);\r\n    }\r\n  }\r\n\r\n  isCheckboxDisabled(option?: IMultiSelectOption): boolean {\r\n    return this.disabledSelection || option && option.disabled;\r\n  }\r\n\r\n  checkScrollPosition(ev) {\r\n    const scrollTop = ev.target.scrollTop;\r\n    const scrollHeight = ev.target.scrollHeight;\r\n    const scrollElementHeight = ev.target.clientHeight;\r\n    const roundingPixel = 1;\r\n    const gutterPixel = 1;\r\n\r\n    if (\r\n      scrollTop >=\r\n      scrollHeight -\r\n      (1 + this.settings.loadViewDistance) * scrollElementHeight -\r\n      roundingPixel -\r\n      gutterPixel\r\n    ) {\r\n      this.load();\r\n    }\r\n  }\r\n\r\n  checkScrollPropagation(ev, element) {\r\n    const scrollTop = element.scrollTop;\r\n    const scrollHeight = element.scrollHeight;\r\n    const scrollElementHeight = element.clientHeight;\r\n\r\n    if (\r\n      (ev.deltaY > 0 && scrollTop + scrollElementHeight >= scrollHeight) ||\r\n      (ev.deltaY < 0 && scrollTop <= 0)\r\n    ) {\r\n      ev = ev || window.event;\r\n      this.maybePreventDefault(ev);\r\n      ev.returnValue = false;\r\n    }\r\n  }\r\n\r\n  trackById(idx: number, selectOption: IMultiSelectOption) {\r\n    return selectOption.id;\r\n  }\r\n\r\n  load() {\r\n    this.onLazyLoad.emit({\r\n      length: this.options.length,\r\n      filter: this.filterControl.value,\r\n      checkAllSearches: this.checkAllSearchRegister,\r\n      checkAllStatus: this.checkAllStatus,\r\n    });\r\n  }\r\n\r\n  focusItem(dir: number, e?: Event) {\r\n    if (!this.isVisible) {\r\n      return;\r\n    }\r\n\r\n    this.maybePreventDefault(e);\r\n\r\n    const idx = this.filteredOptions.indexOf(this.focusedItem);\r\n\r\n    if (idx === -1) {\r\n      this.focusedItem = this.filteredOptions[0];\r\n      return;\r\n    }\r\n\r\n    const nextIdx = idx + dir;\r\n    const newIdx =\r\n      nextIdx < 0\r\n        ? this.filteredOptions.length - 1\r\n        : nextIdx % this.filteredOptions.length;\r\n\r\n    this.focusedItem = this.filteredOptions[newIdx];\r\n  }\r\n\r\n  private maybePreventDefault(e?: { preventDefault?: Function }) {\r\n    if (e && e.preventDefault) {\r\n      e.preventDefault();\r\n    }\r\n  }\r\n\r\n  private maybeStopPropagation(e?: { stopPropagation?: Function }) {\r\n    if (e && e.stopPropagation) {\r\n      e.stopPropagation();\r\n    }\r\n  }\r\n}\r\n",
    "import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { AutofocusDirective } from './autofocus.directive';\r\nimport { MultiselectDropdownComponent } from './dropdown.component';\r\nimport { MultiSelectSearchFilter } from './search-filter.pipe';\r\n\r\n@NgModule({\r\n  imports: [CommonModule, ReactiveFormsModule],\r\n  exports: [\r\n    MultiselectDropdownComponent,\r\n    MultiSelectSearchFilter,\r\n  ],\r\n  declarations: [\r\n    MultiselectDropdownComponent,\r\n    MultiSelectSearchFilter,\r\n    AutofocusDirective,\r\n  ],\r\n})\r\nexport class MultiselectDropdownModule { }\r\n"
  ],
  "names": [
    "__read",
    "o",
    "n",
    "m",
    "Symbol",
    "iterator",
    "r",
    "e",
    "i",
    "call",
    "ar",
    "next",
    "done",
    "push",
    "value",
    "error",
    "MultiSelectSearchFilter",
    "this",
    "_searchCache",
    "_searchCacheInclusive",
    "_prevSkippedItems",
    "prototype",
    "transform",
    "options",
    "str",
    "limit",
    "renderLimit",
    "toLowerCase",
    "_lastOptions",
    "filteredOpts",
    "hasOwnProperty",
    "_doSearch",
    "length",
    "_limitRenderedItems",
    "_getSubsetOptions",
    "prevOptions",
    "prevSearchStr",
    "prevInclusiveOrIdx",
    "arguments",
    "concat",
    "__spread",
    "slice",
    "prevStr",
    "prevResults",
    "prevResultShift",
    "optsLength",
    "maxFound",
    "Math",
    "min",
    "regexp",
    "RegExp",
    "_escapeRegExp",
    "founded",
    "removedFromPrevResult",
    "doesOptionMatch",
    "option",
    "test",
    "name",
    "getChildren",
    "filter",
    "child",
    "parentId",
    "id",
    "getParent",
    "find",
    "parent",
    "foundFn",
    "item",
    "notFoundFn",
    "some",
    "totalIterations",
    "items",
    "replace",
    "type",
    "Pipe",
    "args",
    "AutofocusDirective",
    "elemRef",
    "Object",
    "defineProperty",
    "get",
    "nativeElement",
    "ngOnInit",
    "focus",
    "ngOnChanges",
    "changes",
    "ssAutofocusChange",
    "isFirstChange",
    "ssAutofocus",
    "element",
    "Directive",
    "selector",
    "ElementRef",
    "decorators",
    "Host",
    "Input",
    "MULTISELECT_VALUE_ACCESSOR",
    "provide",
    "NG_VALUE_ACCESSOR",
    "useExisting",
    "forwardRef",
    "MultiselectDropdownComponent",
    "multi",
    "fb",
    "searchFilter",
    "differs",
    "cdRef",
    "filterControl",
    "control",
    "disabled",
    "disabledSelection",
    "selectionLimitReached",
    "EventEmitter",
    "dropdownClosed",
    "dropdownOpened",
    "onAdded",
    "onRemoved",
    "onLazyLoad",
    "onFilter",
    "valueChanges",
    "destroyed$",
    "Subject",
    "filteredOptions",
    "lazyLoadOptions",
    "renderFilteredOptions",
    "model",
    "prevModel",
    "numSelected",
    "renderItems",
    "checkAllSearchRegister",
    "Set",
    "checkAllStatus",
    "loadedValueIds",
    "_focusBack",
    "defaultSettings",
    "closeOnClickOutside",
    "pullRight",
    "enableSearch",
    "searchRenderLimit",
    "searchRenderAfter",
    "searchMaxLimit",
    "searchMaxRenderedItems",
    "checkedStyle",
    "buttonClasses",
    "containerClasses",
    "selectionLimit",
    "minSelectionLimit",
    "closeOnSelect",
    "autoUnselect",
    "showCheckAll",
    "showUncheckAll",
    "fixedTitle",
    "dynamicTitleMaxItems",
    "maxHeight",
    "isLazyLoad",
    "stopScrollPropagation",
    "loadViewDistance",
    "selectAddedValues",
    "ignoreLabels",
    "maintainSelectionOrderInTitle",
    "focusBack",
    "defaultTexts",
    "checkAll",
    "uncheckAll",
    "checked",
    "checkedPlural",
    "searchPlaceholder",
    "searchEmptyResult",
    "searchNoRenderText",
    "defaultTitle",
    "allSelected",
    "_isVisible",
    "_workerDocClicked",
    "onModelChange",
    "_",
    "onModelTouched",
    "differ",
    "create",
    "settings",
    "texts",
    "onClick",
    "target",
    "isVisible",
    "parentFound",
    "parentElement",
    "emit",
    "set",
    "val",
    "searchLimit",
    "getItemStyle",
    "isLabel",
    "getItemStyleSelectionDisabled",
    "cursor",
    "_this",
    "title",
    "pipe",
    "takeUntil",
    "subscribe",
    "updateRenderItems",
    "load",
    "parents",
    "map",
    "currentValue",
    "previousValue",
    "addedValues_1",
    "indexOf",
    "addChecks",
    "size",
    "forEach",
    "searchValue",
    "applyFilters",
    "updateTitle",
    "fireModelChange",
    "assign",
    "ngOnDestroy",
    "searchLimitApplied",
    "focusedItem",
    "undefined",
    "markForCheck",
    "writeValue",
    "Array",
    "isArray",
    "ngDoCheck",
    "registerOnChange",
    "fn",
    "registerOnTouched",
    "setDisabledState",
    "isDisabled",
    "diff",
    "updateNumSelected",
    "validate",
    "_c",
    "required",
    "valid",
    "selection",
    "registerOnValidatorChange",
    "_fn",
    "Error",
    "clearSearch",
    "event",
    "maybeStopPropagation",
    "setValue",
    "toggleDropdown",
    "closeDropdown",
    "isSelected",
    "setSelected",
    "_event",
    "setTimeout",
    "maybePreventDefault",
    "index",
    "isAtSelectionLimit",
    "removeItem",
    "idx",
    "splice",
    "parentIndex",
    "addItem_1",
    "every",
    "numSelectedOptions",
    "displayAllSelectedText",
    "useOptions_1",
    "titleSelections",
    "optionIds_1",
    "selectOption",
    "selectedId",
    "optionIndex",
    "join",
    "searchFilterApplied",
    "checkedOptions",
    "add",
    "clear",
    "unCheckedOptions_1",
    "has",
    "delete",
    "searchTerm",
    "filterOptions",
    "preventCheckboxCheck",
    "isCheckboxDisabled",
    "checkScrollPosition",
    "ev",
    "scrollTop",
    "scrollHeight",
    "scrollElementHeight",
    "clientHeight",
    "checkScrollPropagation",
    "deltaY",
    "window",
    "returnValue",
    "trackById",
    "checkAllSearches",
    "focusItem",
    "dir",
    "nextIdx",
    "newIdx",
    "preventDefault",
    "stopPropagation",
    "Component",
    "template",
    "styles",
    "providers",
    "changeDetection",
    "ChangeDetectionStrategy",
    "OnPush",
    "FormBuilder",
    "IterableDiffers",
    "ChangeDetectorRef",
    "Output",
    "HostListener",
    "MultiselectDropdownModule",
    "NgModule",
    "imports",
    "CommonModule",
    "ReactiveFormsModule",
    "exports",
    "declarations"
  ],
  "mappings": "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"
}
